(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,a,t){e.exports=t(172)},121:function(e,a,t){},122:function(e,a,t){},126:function(e,a,t){},129:function(e,a,t){},166:function(e,a,t){},167:function(e,a,t){},168:function(e,a,t){},169:function(e,a,t){},170:function(e,a,t){},172:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),o=(t(121),t(22)),s=t(40),i=t(10),m=t(8),u=t(45),d=t(205),E=t(223),p=t(213),h=t(217),b=t(214),v=t(215),f=t(216),g=t(98),w=t.n(g),_=function(e,a,t,n,r){return function(l){return localStorage.setItem("treduler",r),l({type:"USER_LOGIN",email:e,name:a,phone:n,profile:t})}},y=(t(122),t(18)),N=t(96),O=t.n(N),S=t(103),k=t(17),j=t(220);t(126);function T(){var e=Object(y.b)(),a=Object(y.c)((function(e){return e.selectedDate.date}));return r.a.createElement("div",{className:"datepicker__container"},r.a.createElement("div",{className:"date"},a&&a.getFullYear(),", ",a&&a.getMonth()+1),r.a.createElement(k.a,{utils:S.a},r.a.createElement(j.a,{margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"MM/dd/yyyy",value:a,onChange:function(a){a&&e(function(e){return function(a){return a({type:"PUT_SELECTED_DATE",date:e})}}(a))},KeyboardButtonProps:{"aria-label":"change date"}})))}var x=Object(d.a)({list:{width:250},fullList:{width:"auto"}});function D(){var e,a=x(),t=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),l=Object(i.a)(t,2),c=l[0],o=l[1],d=Object(y.b)(),g=Object(n.useState)({redirect:!1,dest:"/"}),_=Object(i.a)(g,2),N=_[0],S=_[1],k=function(e,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(u.a)({},c,Object(m.a)({},e,a)))}};return N.redirect?r.a.createElement(s.a,{to:N.dest}):r.a.createElement("div",{className:"private_main_header_container"},r.a.createElement("h1",null,"Treduler"),r.a.createElement(T,null),r.a.createElement(w.a,{className:"navigation_icon",onClick:k("left",!0)}),r.a.createElement(E.a,{open:c.left,onClose:k("left",!1)},(e="left",r.a.createElement("div",{className:a.list,role:"presentation",onClick:k(e,!1),onKeyDown:k(e,!1)},r.a.createElement(p.a,null,r.a.createElement(b.a,{button:!0},r.a.createElement("div",{onClick:j,className:"drawer__list__item"},r.a.createElement(v.a,null,r.a.createElement(O.a,null)),r.a.createElement(f.a,{primary:"LOGOUT"})))),r.a.createElement(h.a,null)))));function j(){console.log("sad"),S({redirect:!0,dest:"/"}),d((function(e){return localStorage.removeItem("treduler"),e({type:"USER_LOGOUT"})}))}}t(129);var C=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]},B=t(47),I=t.n(B),W="http://localhost:4004/api";W="http://49.50.164.174:4004/api";var A=t(99),z=t.n(A),L=(t(166),function(){return r.a.createElement("div",{className:"loading__container"},r.a.createElement(z.a,{type:"Plane",color:"white"}))}),R=t(212),U=t(208),Z=t(211),M=t(210),P=t(219),q=t(218),F=function(e){var a=e.title,t=e.text,n=e.callBack,l=r.a.useState(!0),c=Object(i.a)(l,2),o=c[0],s=c[1],m=function(){s(!1),n()};return r.a.createElement("div",null,r.a.createElement(U.a,{open:o,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(q.a,{id:"alert-dialog-title"},a),r.a.createElement(M.a,null,r.a.createElement(P.a,{id:"alert-dialog-description"},t)),r.a.createElement(Z.a,null,r.a.createElement(R.a,{onClick:m,color:"primary",autoFocus:!0},"OK!"))))},G=function(){var e=Object(y.c)((function(e){return e.selectedDate})).date,a=Object(n.useState)([]),t=Object(i.a)(a,2),l=(t[0],t[1]),c=Object(n.useState)({show:!1,title:"",text:"",callBack:function(){}}),o=Object(i.a)(c,2),s=o[0],m=o[1],u=Object(n.useState)(!0),d=Object(i.a)(u,2),E=d[0],p=d[1];return Object(n.useEffect)((function(){!function(e){I.a.get("".concat(W,"/calendar/").concat(e[0],"/").concat(e[1]),{headers:{jwt:localStorage.getItem("treduler")}}).then((function(e){if(p(!1),console.log(e),304===e.status)m({show:!0,title:"Error",text:e.data.message,callBack:function(){m({show:!1,title:"",text:"",callBack:function(){}})}});else if(500===e.status)m({show:!0,title:"Error",text:e.data.message,callBack:function(){m({show:!1,title:"",text:"",callBack:function(){}})}});else if(401===e.status)m({show:!0,title:"Error",text:e.data.message,callBack:function(){m({show:!1,title:"",text:"",callBack:function(){}})}});else if(200===e.status){var a=e.data.calendars;l(a)}else m({show:!0,title:"Error",text:"Internal server error occured",callBack:function(){m({show:!1,title:"",text:"",callBack:function(){}})}})})).catch((function(e){p(!1),console.log(e),m({show:!0,title:"Error",text:"Internal server error occured",callBack:function(){m({show:!1,title:"",text:"",callBack:function(){}})}})}))}(function(){var a=e.getFullYear(),t=e.getMonth(),n=new Date(a,t,1),r=new Date(a,t+1,0),l=C(n.toString()),c=C(r.toString()),o=0,s=0;switch(l){case"Sunday":o=0;break;case"Monday":o=1;break;case"Tuesday":o=2;break;case"Wednesday":o=3;break;case"Thursday":o=4;break;case"Friday":o=5;break;case"Saturday":o=6}switch(c){case"Sunday":s=6;break;case"Monday":s=5;break;case"Tuesday":s=4;break;case"Wednesday":s=3;break;case"Thursday":s=2;break;case"Friday":s=1;break;case"Saturday":s=0}return n.setDate(n.getDate()-o+1),r.setDate(r.getDate()+s+1),[n.getTime().toString(),r.getTime().toString()]}())}),[e]),r.a.createElement("div",{className:"private__main__container"},r.a.createElement(D,null),r.a.createElement("div",{className:"calendar__container"},r.a.createElement("div",{className:"inner__container"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"SUN")),r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"MON")),r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"TUE")),r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"WED")),r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"THU")),r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"FRI")),r.a.createElement("div",{className:"span_container"},r.a.createElement("span",null,"SAT"))),r.a.createElement("div",{className:"body"},"body"))),E&&r.a.createElement(L,null),s.show&&r.a.createElement(F,{title:s.title,text:s.text,callBack:s.callBack}))};function $(){return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,null,r.a.createElement(G,null))))}t(167),t(168);var K=function(){return r.a.createElement("div",{className:"public__header"},r.a.createElement("div",{className:"left"},r.a.createElement(o.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement("h1",null,"Treduler"))),r.a.createElement("div",{className:"right"},r.a.createElement(o.b,{to:"/sign-up",style:{textDecoration:"none"}},r.a.createElement(R.a,{color:"primary"},"sign up")),r.a.createElement(o.b,{to:"/sign-in",style:{textDecoration:"none"}},r.a.createElement(R.a,{color:"primary"},"sign in"))))},V=function(){return r.a.createElement("div",{className:"main__container"},r.a.createElement(K,null),r.a.createElement("div",{className:"sized_box"}),r.a.createElement("p",{className:"animated bounce content"},"The World Best Simple and Light Calendar Progressive Web Application"),r.a.createElement("div",{className:"sized_box_height"}),r.a.createElement("div",{className:"button__container"},r.a.createElement(o.b,{to:"/sign-in"},r.a.createElement("button",{className:"animated rubberBand delay-2s"},"GET STARTED"))))},J=(t(169),t(62)),X=t(221),Y=function(e){var a,t={};return console.log("values: ",e),e.email?(a=e.email,/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i.test(a)||(t.email="Invalid email format")):t.email="Required",e.name?e.name.length<2&&(t.name="name should contain at least two characters"):t.name="Required",e.phone?!function(e){return/^[0-9]+$/.test(e)}(e.phone)?t.phone="Invalid phone number format":e.phone.length<10?t.phone="Too short":e.phone.length>11&&(t.phone="Too long"):t.phone="Required",e.password1?e.password1.length<6&&(t.password1="Password should container at least 6 characters"):t.password1="Required",e.password2?e.password1!==e.password2&&(t.password2="Double check your password"):t.password2="Required",t};var H=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(!1),E=Object(i.a)(d,2),p=E[0],h=E[1],b=Object(y.b)(),v=Object(J.a)({initialValues:{email:"",name:"",phone:"",password1:"",password2:""},validate:Y,onSubmit:function(e){!function(e){l(!0);var a=e.email,t=e.name,n=e.password1,r=e.phone;I.a.post("".concat(W,"/user/new-account"),{email:a,name:t,password:n,phone:r}).then((function(e){return e.data})).then((function(e){l(!1),h(!0);var a=e,t=a.name,n=a.email,r=a.phone,c=a.jwt,o=a.profile;b(_(n,t,o,r,c))})).catch((function(e){l(!1),u(!0),console.log("error: ",e)}))}(e)}});return p?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"public__sign_up"},r.a.createElement(K,null),r.a.createElement("div",{className:"logo__container"},r.a.createElement("h1",{className:"animated rubberBand logo"},"Treduler"),r.a.createElement("span",{className:"content"},"sign up")),r.a.createElement("div",{className:"sized_box"}),r.a.createElement("form",{onSubmit:v.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"email",name:"email",type:"email",label:"email",onChange:v.handleChange,fullWidth:!0,value:v.values.email})),r.a.createElement("div",{className:"error_message"},v.errors.email?v.errors.email:""),r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"name",name:"name",type:"name",label:"name",onChange:v.handleChange,fullWidth:!0,value:v.values.name})),r.a.createElement("div",{className:"error_message"},v.errors.name?v.errors.name:""),r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"phone",name:"phone",type:"phone",label:"phone",onChange:v.handleChange,fullWidth:!0,value:v.values.phone})),r.a.createElement("div",{className:"error_message"},v.errors.phone?v.errors.phone:""),r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"password1",name:"password1",label:"password",type:"password",onChange:v.handleChange,fullWidth:!0,value:v.values.password1})),r.a.createElement("div",{className:"error_message"},v.errors.password1?v.errors.password1:""),r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"password2",name:"password2",type:"password",label:"double check password",onChange:v.handleChange,fullWidth:!0,value:v.values.password2})),r.a.createElement("div",{className:"error_message"},v.errors.password2?v.errors.password2:""),r.a.createElement("div",{className:"button__container"},r.a.createElement(R.a,{type:"submit",color:"primary"},"submit"))),t&&r.a.createElement(L,null),m&&r.a.createElement(F,{title:"Warning!",text:"Already existing account",callBack:function(){u(!1)}}))},Q=(t(170),function(e){var a,t={};return e.email?(a=e.email,/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i.test(a)||(t.email="Invalid email format")):t.email="Required",e.password?e.password.length<6&&(t.password="Password should container at least 6 characters"):t.password="Required",t});var ee=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(!1),E=Object(i.a)(d,2),p=E[0],h=E[1],b=Object(y.b)(),v=Object(J.a)({initialValues:{email:"",password:""},validate:Q,onSubmit:function(e){!function(e){l(!0);var a=e.email,t=e.password;I.a.post("".concat(W,"/user/login"),{email:a,password:t}).then((function(e){return e.data})).then((function(e){var a=e,t=a.email,n=a.profile,r=(a.name,a.phone),c=a.jwt;l(!1),h(!0),b(_(t,n,n,r,c))})).catch((function(e){console.error(e),l(!1),u(!0)}))}(e)}});return p?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"public__sign_up"},r.a.createElement(K,null),r.a.createElement("div",{className:"logo__container"},r.a.createElement("h1",{className:"animated rubberBand logo"},"Treduler"),r.a.createElement("span",{className:"content"},"sign up")),r.a.createElement("div",{className:"sized_box"}),r.a.createElement("form",{onSubmit:v.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"email",name:"email",type:"email",label:"email",onChange:v.handleChange,fullWidth:!0,value:v.values.email})),r.a.createElement("div",{className:"error_message"},v.errors.email?v.errors.email:""),r.a.createElement("div",{className:"row"},r.a.createElement(X.a,{id:"password",name:"password",label:"password",type:"password",onChange:v.handleChange,fullWidth:!0,value:v.values.password})),r.a.createElement("div",{className:"error_message"},v.errors.password?v.errors.password:""),r.a.createElement("div",{className:"button__container"},r.a.createElement(R.a,{type:"submit",color:"primary"},"submit"))),t&&r.a.createElement(L,null),m&&r.a.createElement(F,{title:"Warning",text:"Please check again your password and email",callBack:function(){u(!1)}}))};function ae(){return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/sign-up"},r.a.createElement(H,null)),r.a.createElement(s.b,{exact:!0,path:"/sign-in"},r.a.createElement(ee,null)),r.a.createElement(s.b,null,r.a.createElement(V,null))))}var te=function(){return Object(y.c)((function(e){return e.user})).isLoggedIn?r.a.createElement($,null):r.a.createElement(ae,null)},ne=t(43),re=t(102),le={email:"",name:"",phone:"",profile:"",isLoggedIn:!!localStorage.getItem("treduler")};function ce(e,a){var t=a.email,n=a.name,r=a.phone,l=a.profile;return Object(u.a)({},e,{email:t,name:n,phone:r,profile:l,isLoggedIn:!0})}var oe={date:new Date};function se(e,a){return Object(u.a)({},e,{date:a.date})}var ie=Object(ne.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN":return ce(e,a);case"USER_LOGOUT":return{email:"",name:"",phone:"",profile:"",isLoggedIn:!1};default:return e}},selectedDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PUT_SELECTED_DATE":return se(e,a);default:return e}}}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.d,ue=Object(ne.e)(ie,{},me(Object(ne.a)(re.a)));t(171),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(y.a,{store:ue},r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[117,1,2]]]);
//# sourceMappingURL=main.fd66dc35.chunk.js.map